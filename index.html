<!doctype html>
<html lang="de">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Universal Converter & Formel-Löser</title>
<meta name="description" content="Universal Converter & Formel-Löser — viele Einheiten, Formeln und Seiten. Kinderfreundlich, schnell, alles in einer Datei." />
<meta name="keywords" content="Umrechner, Converter, Einheiten, Länge, Fläche, Volumen, Masse, Daten, Formeln, Physik, Chemie, Mathematik" />
<link rel="canonical" href="https://your-domain.example/" />
<meta name="robots" content="index, follow" />
<meta name="author" content="Dein Name" />
<meta name="theme-color" content="#0aa" />
<style>
  /* --- Modern light, accessible, kid-friendly styles --- */
  :root{
    --bg:#f7fafc; --card:#ffffff; --muted:#4a5568; --accent:#06b6d4; --accent-2:#4f46e5;
    --radius:12px; --glass: rgba(15,23,42,0.03);
    font-synthesis: none;
  }
  *{box-sizing:border-box}
  html,body{height:100%;margin:0;font-family:Inter,ui-sans-serif,system-ui,Segoe UI,Roboto,'Helvetica Neue',Arial;background:var(--bg);color:#0b1220}
  .container{max-width:1100px;margin:18px auto;padding:18px}
  header{display:flex;align-items:center;gap:14px}
  .logo{width:56px;height:56px;border-radius:12px;background:linear-gradient(135deg,var(--accent),var(--accent-2));display:flex;align-items:center;justify-content:center;color:#fff;font-weight:800;font-size:22px}
  h1{margin:0;font-size:20px}
  p.lead{margin:6px 0 0;color:var(--muted);font-size:13px}
  nav{margin-top:12px;display:flex;gap:8px;flex-wrap:wrap}
  nav button{background:transparent;border:1px solid rgba(11,18,32,0.06);padding:10px 12px;border-radius:10px;cursor:pointer;font-weight:600}
  nav button.active{background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border:none;box-shadow:0 6px 18px rgba(79,70,229,0.12)}
  .card{background:var(--card);border-radius:var(--radius);padding:14px;margin-top:14px;box-shadow:0 6px 18px rgba(11,18,32,0.04)}
  .grid{display:grid;grid-template-columns:1fr 360px;gap:18px}
  @media(max-width:980px){.grid{grid-template-columns:1fr}.aside{order:2}}
  .controls{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
  input,select,button,textarea{font-size:15px;padding:10px;border-radius:10px;border:1px solid rgba(11,18,32,0.06);outline:none}
  input:focus,select:focus,textarea:focus{box-shadow:0 0 0 4px rgba(6,182,212,0.08);border-color:var(--accent)}
  .big{font-size:18px;padding:12px 16px}
  .result{font-weight:700;font-size:20px;color:var(--accent-2)}
  .small{font-size:13px;color:var(--muted)}
  .unit-row{display:flex;gap:8px;align-items:center}
  .search{width:100%;padding:10px;border-radius:10px;border:1px solid rgba(11,18,32,0.06)}
  .formula-list{max-height:56vh;overflow:auto;padding-right:6px}
  .formula-item{padding:10px;border-radius:10px;border:1px solid rgba(11,18,32,0.04);margin-bottom:8px;background:linear-gradient(180deg, rgba(255,255,255,0.6), rgba(255,255,255,0.5))}
  .nav-footer{display:flex;gap:8px;align-items:center;justify-content:space-between;margin-top:12px}
  .chip{display:inline-block;padding:6px 10px;border-radius:999px;border:1px solid rgba(11,18,32,0.06);background:rgba(11,18,32,0.02);font-weight:600}
  .small-muted{font-size:12px;color:#6b7280}
  /* responsive tweaks */
  @media(max-width:560px){
    .logo{width:48px;height:48px;font-size:18px}
    nav button{padding:8px 10px;font-size:14px}
  }
</style>
<script>
/* -------------- Data: Units (Ultra many categories) -------------- */
/* Structure: UNITS[category] = {base: 'unit', units: { 'label': factorToBase or special } } */
/* For special ones (like Temperature) factor is string flag handled separately */
const UNITS = {
  "Length": { base: "m", units: {
    "picometer (pm)":1e-12,"nanometer (nm)":1e-9,"micrometer (μm)":1e-6,"millimeter (mm)":1e-3,"centimeter (cm)":1e-2,
    "inch (in)":0.0254,"foot (ft)":0.3048,"yard (yd)":0.9144,"meter (m)":1,"kilometer (km)":1000,"mile (mi)":1609.344,"nautical mile (nmi)":1852
  }},
  "Area": { base: "m²", units: {
    "square millimeter (mm²)":1e-6,"square centimeter (cm²)":1e-4,"square meter (m²)":1,"square kilometer (km²)":1e6,
    "square inch (in²)":0.00064516,"square foot (ft²)":0.092903,"acre":4046.8564224,"hectare (ha)":10000
  }},
  "Volume": { base:"m³", units:{
    "cubic millimeter (mm³)":1e-9,"cubic centimeter (cm³) / mL":1e-6,"liter (L)":0.001,"cubic meter (m³)":1,"gallon (US)":0.003785411784,"cubic inch (in³)":1.6387064e-5,"cubic foot (ft³)":0.028316846592
  }},
  "Mass": { base:"kg", units:{
    "microgram (µg)":1e-9,"milligram (mg)":1e-6,"gram (g)":0.001,"kilogram (kg)":1,"tonne (t)":1000,"short ton (US)":907.18474,"ounce (oz)":0.028349523125,"pound (lb)":0.45359237
  }},
  "Data": { base:"byte", units:{
    "bit":1/8,"byte":1,"kilobyte (KB, 10^3)":1e3,"kibibyte (KiB, 2^10)":1024,"megabyte (MB)":1e6,"mebibyte (MiB)":1024**2,"gigabyte (GB)":1e9,"gibibyte (GiB)":1024**3,"terabyte (TB)":1e12,"tebibyte (TiB)":1024**4
  }},
  "Time": { base:"s", units:{
    "nanosecond (ns)":1e-9,"microsecond (µs)":1e-6,"millisecond (ms)":1e-3,"second (s)":1,"minute":60,"hour":3600,"day":86400,"week":604800,"year (365d)":31536000
  }},
  "Temperature": { base:"K", units: {"Celsius (°C)":"c","Fahrenheit (°F)":"f","Kelvin (K)":"k"} },
  "Speed": { base:"m/s", units: {"m/s":1,"km/h":1000/3600,"mph":1609.344/3600,"knot":1852/3600} },
  "Pressure": { base:"Pa", units: {"Pa":1,"kPa":1000,"bar":100000,"atm":101325,"psi":6894.757293168} },
  "Energy": { base:"J", units: {"Joule (J)":1,"kJ":1000,"calorie (cal)":4.184,"kcal":4184,"eV":1.602176634e-19} },
  "Power": { base:"W", units: {"Watt (W)":1,"kW":1000,"hp":745.69987158227022} },
  "Angle": { base:"rad", units: {"degree (°)":Math.PI/180,"radian (rad)":1} },
  "Frequency": { base:"Hz", units: {"Hz":1,"kHz":1e3,"MHz":1e6} },
  "Concentration": { base:"mol/L", units: {"mol/L":1,"mmol/L":1e-3,"µmol/L":1e-6,"mg/dL":"mg/dL"} },
  "Force": { base:"N", units: {"Newton (N)":1,"kN":1000,"dyne":1e-5,"lbf":4.4482216152605} },
  "Moment": { base:"N·m", units: {"N·m":1,"ft·lb":1.3558179483314} },
  "Electrical": { base:"SI", units: {"Volt (V)":1,"Ampere (A)":1,"Ohm (Ω)":1,"Siemens (S)":1,"Coulomb (C)":1} },
  "Optics": { base:"m", units: {"nanometer (nm)":1e-9,"micrometer (μm)":1e-6,"meter (m)":1} },
  "Chemistry": { base:"mol", units: {"mol":1,"mmol":1e-3,"µmol":1e-6} },
  "Radiation": { base:"Bq", units: {"Becquerel (Bq)":1,"Curie (Ci)":3.7e10} },
  "Finance": { base:"currency", units: {"EUR":1,"USD":1.0,"GBP":1.0} }, // rates not maintained here
  "Geometry": { base:"m", units: {"pixel":1/96,"inch":0.0254,"cm":0.01,"m":1} },
  "Density": { base:"kg/m³", units: {"kg/m³":1,"g/cm³":1000} },
  "Viscosity": { base:"Pa·s", units: {"Pa·s":1,"cP":0.001} },
  "Entropy": { base:"J/K", units: {"J/K":1} },
  "ElectricCharge": { base:"C", units: {"C":1,"mAh":3.6} },
  "Custom": { base:"unit", units: {"custom":1} }
};

/* --- Helper functions for conversions --- */
function convertUnits(category, fromLabel, toLabel, value){
  if(!UNITS[category]) return NaN;
  const cat = UNITS[category];
  // Temperature special
  if(category === "Temperature"){
    return convertTemperature(fromLabel, toLabel, value);
  }
  const fromFactor = cat.units[fromLabel];
  const toFactor = cat.units[toLabel];
  if(typeof fromFactor === 'number' && typeof toFactor === 'number'){
    const inBase = Number(value) * fromFactor;
    return inBase / toFactor;
  }
  return NaN;
}
function convertTemperature(fromLabel, toLabel, value){
  const f = fromLabel.toLowerCase();
  const t = toLabel.toLowerCase();
  let K;
  if(f.includes('c')) K = Number(value) + 273.15;
  else if(f.includes('f')) K = (Number(value)-32) * (5/9) + 273.15;
  else K = Number(value);
  if(t.includes('c')) return K - 273.15;
  if(t.includes('f')) return (K - 273.15) * (9/5) + 32;
  return K;
}

/* -------------- Formula Library (many formulas + mixed UI) -------------- */
/* Each formula: id,title,desc,inputs[{k,label,placeholder}],compute(args)->{value,unit or text} */
const FORMULAS = [
  {id:'ohm', title:"Ohm'sches Gesetz", desc:"U = R × I", inputs:[{k:'U',label:'Spannung U (V)'},{k:'I',label:'Strom I (A)'},{k:'R',label:'Widerstand R (Ω)'}], compute:({U,I,R})=>{
    U=Number(U);I=Number(I);R=Number(R);
    if(U && I) return {value:U/I, unit:'Ω'};
    if(U && R) return {value:U/R, unit:'A'};
    if(I && R) return {value:I*R, unit:'V'};
    return {err:'Bitte zwei Werte ausfüllen.'};
  }},
  {id:'kinetic', title:'Kinetische Energie', desc:'E = 0.5 m v²', inputs:[{k:'m',label:'Masse m (kg)'},{k:'v',label:'Geschwindigkeit v (m/s)'}], compute:({m,v})=>({value:0.5*Number(m)*Number(v)*Number(v), unit:'J'})},
  {id:'density', title:'Dichte', desc:'ρ = m / V', inputs:[{k:'m',label:'Masse (kg)'},{k:'V',label:'Volumen (m³)'}], compute:({m,V})=>({value:Number(m)/Number(V), unit:'kg/m³'})},
  {id:'area_circle', title:'Fläche Kreis', desc:'A = π r²', inputs:[{k:'r',label:'Radius r (m)'}], compute:({r})=>({value: Math.PI * Number(r) * Number(r), unit:'m²'})},
  {id:'volume_sphere', title:'Volumen Kugel', desc:'V = 4/3 π r³', inputs:[{k:'r',label:'Radius r (m)'}], compute:({r})=>({value:(4/3)*Math.PI*Math.pow(Number(r),3), unit:'m³'})},
  {id:'ideal_gas', title:'Ideales Gasgesetz', desc:'pV = nRT', inputs:[{k:'p',label:'Druck p (Pa)'},{k:'V',label:'Volumen V (m³)'},{k:'n',label:'Stoffmenge n (mol)'},{k:'T',label:'Temperatur T (K)'},{k:'R',label:'Gaskonstante (optional)', placeholder:'8.314462618'}], compute:({p,V,n,T,R})=>{
    R = Number(R) || 8.314462618;
    if(p && V && n) return {value: (Number(p)*Number(V))/(Number(n)*R), unit:'K'};
    return {err:'Gib p+V+n oder andere bekannte Kombinationen an.'};
  }},
  {id:'quad', title:'Quadratische Gleichung', desc:'Löst ax² + bx + c = 0', inputs:[{k:'a',label:'a'},{k:'b',label:'b'},{k:'c',label:'c'}], compute:({a,b,c})=>{
    a=Number(a);b=Number(b);c=Number(c);
    const d = b*b - 4*a*c;
    if(isNaN(d)) return {err:'Ungültige Eingabe'};
    if(d < 0) return {err:'Komplexe Lösungen (nicht unterstützt)'};
    return {value:`x₁=${((-b+Math.sqrt(d))/(2*a)).toPrecision(10)}, x₂=${((-b-Math.sqrt(d))/(2*a)).toPrecision(10)}`, unit:''};
  }},
  {id:'factorial', title:'Fakultät (n!)', desc:'Berechnet n!', inputs:[{k:'n',label:'n (ganzzahlig, ≤170)'}], compute:({n})=>{
    n = Number(n);
    if(!Number.isInteger(n) || n < 0) return {err:'n muss eine nicht-negative ganze Zahl sein'};
    if(n > 170) return {err:'n zu groß (Overflow)'};
    let r=1; for(let i=2;i<=n;i++) r*=i;
    return {value: r, unit:''};
  }},
  // Physics & chemistry common formulas
  {id:'force', title:'Kraft', desc:'F = m × a', inputs:[{k:'m',label:'Masse m (kg)'},{k:'a',label:'Beschleunigung a (m/s²)'}], compute:({m,a})=>({value:Number(m)*Number(a), unit:'N'})},
  {id:'momentum', title:'Impuls', desc:'p = m × v', inputs:[{k:'m',label:'Masse (kg)'},{k:'v',label:'Geschwindigkeit (m/s)'}], compute:({m,v})=>({value:Number(m)*Number(v), unit:'kg·m/s'})},
  {id:'pressure_from_depth', title:'Druck in Flüssigkeit', desc:'p = ρ g h', inputs:[{k:'rho',label:'Dichte ρ (kg/m³)'},{k:'h',label:'Tiefe h (m)'},{k:'g',label:'g (m/s²)', placeholder:'9.81'}], compute:({rho,h,g})=>({value: Number(rho)* (Number(g)||9.81) * Number(h), unit:'Pa'})},
  {id:'ohms_power', title:'Elektrische Leistung', desc:'P = U × I', inputs:[{k:'U',label:'Spannung U (V)'},{k:'I',label:'Strom I (A)'}], compute:({U,I})=>({value:Number(U)*Number(I), unit:'W'})},
  // ... add many placeholders programmatically below to reach a large library
];

(function expandFormulas(){
  // quick add many template formulas (placeholders and small helpers)
  const extras = [
    {id:'circumference', title:'Kreisumfang', desc:'U = 2πr', inputs:[{k:'r',label:'r (m)'}], compute:({r})=>({value:2*Math.PI*Number(r), unit:'m'})},
    {id:'area_rectangle', title:'Fläche Rechteck', desc:'A = a × b', inputs:[{k:'a',label:'a (m)'},{k:'b',label:'b (m)'}], compute:({a,b})=>({value:Number(a)*Number(b), unit:'m²'})},
    {id:'volume_cylinder', title:'Volumen Zylinder', desc:'V = π r² h', inputs:[{k:'r',label:'r (m)'},{k:'h',label:'h (m)'}], compute:({r,h})=>({value:Math.PI*Number(r)*Number(r)*Number(h), unit:'m³'})},
    {id:'bhaskara', title:'Bhaskara (Schnell)', desc:'Beispiel-Formel', inputs:[{k:'x',label:'x'},{k:'y',label:'y'}], compute:({x,y})=>({value: Number(x)+Number(y), unit:''})},
  ];
  extras.forEach(e=>FORMULAS.push(e));
  // placeholders to reach high count (but safe)
  for(let i=0;i<80;i++){
    FORMULAS.push({id:'tpl_'+i, title:`Formel ${i+1}`, desc:`Vorlage ${i+1}`, inputs:[{k:'x',label:'x'},{k:'y',label:'y'}], compute:({x,y})=>({value:`x=${x}, y=${y}`, unit:''})});
  }
})();

/* -------------- Simple natural-language parser (very basic) -------------- */
/* supports patterns like: "Ich habe m=10 und a=2 berechne Kraft" or "m=10 a=2 force" */
function parseSimpleNL(text){
  // extract key=value pairs
  const kv = {};
  const pairs = text.match(/([a-zA-Z]+)\\s*=\\s*([0-9.+\\-eE]+)/g);
  if(pairs){
    pairs.forEach(p=>{
      const m = p.match(/([a-zA-Z]+)\\s*=\\s*([0-9.+\\-eE]+)/);
      if(m) kv[m[1]] = m[2];
    });
  }
  // detect keywords
  const keywords = text.toLowerCase();
  return {kv, keywords};
}

/* -------------- Simple client-side routing (hash) -------------- */
function navigateTo(page){
  document.querySelectorAll('nav button').forEach(b=>b.classList.remove('active'));
  const btn = document.querySelector('[data-page="'+page+'"]');
  if(btn) btn.classList.add('active');
  document.querySelectorAll('.page').forEach(p=>p.style.display='none');
  const el = document.getElementById('page-'+page);
  if(el) el.style.display = 'block';
  window.location.hash = '#/'+page;
}

/* -------------- On DOM ready: render UI dynamic parts -------------- */
document.addEventListener('DOMContentLoaded', ()=>{

  // populate navigation behavior
  document.querySelectorAll('nav button').forEach(btn=>{
    btn.addEventListener('click', ()=> navigateTo(btn.dataset.page));
  });

  const initial = (window.location.hash && window.location.hash.startsWith('#/')) ? window.location.hash.slice(2) : 'converter';
  navigateTo(initial);

  // --- Fill category selects for Converter page ---
  const catSel = document.getElementById('convCategory');
  Object.keys(UNITS).forEach(k=>{
    const o = document.createElement('option'); o.value = k; o.textContent = k; catSel.appendChild(o);
  });
  catSel.value = 'Length';
  function populateUnitSelects(cat){
    const from = document.getElementById('convFrom');
    const to = document.getElementById('convTo');
    from.innerHTML = ''; to.innerHTML = '';
    const units = UNITS[cat].units;
    Object.keys(units).forEach(u=>{
      const o1 = document.createElement('option'); o1.value=u; o1.textContent=u; from.appendChild(o1);
      const o2 = document.createElement('option'); o2.value=u; o2.textContent=u; to.appendChild(o2);
    });
  }
  populateUnitSelects(catSel.value);
  catSel.addEventListener('change', ()=> populateUnitSelects(catSel.value));

  document.getElementById('convBtn').addEventListener('click', ()=>{
    const cat = document.getElementById('convCategory').value;
    const from = document.getElementById('convFrom').value;
    const to = document.getElementById('convTo').value;
    const val = document.getElementById('convValue').value;
    if(val === '' || isNaN(Number(val))){ document.getElementById('convResult').textContent = 'Bitte gültigen Wert eingeben'; return; }
    const out = convertUnits(cat, from, to, Number(val));
    if(isNaN(out)) document.getElementById('convResult').textContent = 'Konvertierung nicht möglich';
    else document.getElementById('convResult').textContent = `${out} ${to.replace(/\\s*\\(.+\\)/,'')}`;
  });

  // swap button
  document.getElementById('swapUnits').addEventListener('click', ()=>{
    const f = document.getElementById('convFrom');
    const t = document.getElementById('convTo');
    const tmp = f.value; f.value = t.value; t.value = tmp;
  });

  // quick presets (kids friendly big buttons)
  document.querySelectorAll('[data-preset]').forEach(btn=>{
    btn.addEventListener('click', ()=>{
      const p = btn.dataset.preset.split('|'); // cat|from|to|val
      document.getElementById('convCategory').value = p[0]; populateUnitSelects(p[0]);
      setTimeout(()=>{ document.getElementById('convFrom').value = p[1]; document.getElementById('convTo').value = p[2]; document.getElementById('convValue').value = p[3] || ''; }, 10);
    });
  });

  // --- Formulas page: render list ---
  const fList = document.getElementById('formulaList');
  function renderFormulas(filter){
    fList.innerHTML = '';
    FORMULAS.filter(ff => !filter || (ff.title+ff.desc).toLowerCase().includes(filter.toLowerCase())).forEach(ff=>{
      const node = document.createElement('div'); node.className = 'formula-item';
      const head = document.createElement('div'); head.innerHTML = `<strong>${ff.title}</strong> <div class="small-muted">${ff.desc}</div>`;
      node.appendChild(head);
      const form = document.createElement('form'); form.style.marginTop='8px';
      ff.inputs.forEach(inp=>{
        const row = document.createElement('div'); row.className='unit-row'; row.style.marginBottom='6px';
        const label = document.createElement('div'); label.textContent = inp.label; label.style.width='38%'; label.className='small';
        const input = document.createElement('input'); input.name = inp.k; input.placeholder = inp.placeholder || ''; input.style.flex='1';
        row.appendChild(label); row.appendChild(input); form.appendChild(row);
      });
      const result = document.createElement('div'); result.className='small'; result.style.marginTop='8px';
      const btn = document.createElement('button'); btn.type='button'; btn.textContent='Berechnen'; btn.className='big'; btn.style.marginTop='6px';
      btn.addEventListener('click', ()=>{
        const fd = new FormData(form); const args = {};
        for(const [k,v] of fd.entries()) args[k]=v;
        try{
          const res = ff.compute(args);
          if(res.err) result.textContent = 'Fehler: ' + res.err;
          else result.textContent = (res.value!==undefined?res.value:'') + (res.unit? ' ' + res.unit : '');
        }catch(e){ result.textContent = 'Fehler bei Berechnung'; }
      });
      form.appendChild(btn); form.appendChild(result);
      node.appendChild(form);
      fList.appendChild(node);
    });
  }
  renderFormulas('');
  document.getElementById('formulaSearch').addEventListener('input', (e)=> renderFormulas(e.target.value));

  // --- Natural-language mini parser usage (on Formulas page) ---
  document.getElementById('nlBtn').addEventListener('click', ()=>{
    const txt = document.getElementById('nlInput').value;
    if(!txt) return alert('Gib kurz etwas ein, z.B. "m=10 a=2 berechne force"');
    const parsed = parseSimpleNL(txt);
    // naive: match keywords to formula ids
    let matched = null;
    const kw = parsed.keywords;
    if(kw.includes('kraft') || kw.includes('force')) matched = FORMULAS.find(f=>f.id==='force' || f.title.toLowerCase().includes('kraft'));
    if(kw.includes('ohm') || kw.includes('spannung') || kw.includes('strom')) matched = matched || FORMULAS.find(f=>f.id==='ohm');
    if(kw.includes('energie') || kw.includes('kinet')) matched = matched || FORMULAS.find(f=>f.id==='kinetic');
    if(!matched){ alert('Keine passende Formel automatisch gefunden — bitte aus Bibliothek wählen.'); return; }
    // fill inputs if possible
    navigateTo('formulas');
    setTimeout(()=>{
      // scroll to matched formula (find first with the same title)
      const elements = Array.from(document.querySelectorAll('.formula-item'));
      const el = elements.find(e=> e.querySelector('strong').textContent.trim().toLowerCase().includes(matched.title.toLowerCase().split(' ')[0]));
      if(el){
        el.scrollIntoView({behavior:'smooth', block:'center'});
        // try to set inputs
        const inputs = el.querySelectorAll('input');
        inputs.forEach(inp=>{
          const name = inp.name;
          if(parsed.kv[name]) inp.value = parsed.kv[name];
        });
      }
    }, 150);
  });

  // --- Geometry page simple helpers ---
  document.getElementById('geoCalc').addEventListener('click', ()=>{
    const shape = document.getElementById('geoShape').value;
    const a = Number(document.getElementById('geo_a').value);
    const b = Number(document.getElementById('geo_b').value);
    const r = Number(document.getElementById('geo_r').value);
    let out = '';
    if(shape === 'rectangle') out = `A = ${a*b} m², U = ${2*(a+b)} m`;
    if(shape === 'triangle') out = `A = ${0.5*a*b} m² (a=Basis, b=Höhe)`;
    if(shape === 'circle') out = `A = ${Math.PI*r*r} m², U = ${2*Math.PI*r} m`;
    document.getElementById('geoResult').textContent = out;
  });

  // --- Settings: copy canonical ---
  document.getElementById('copyCanonical').addEventListener('click', ()=>{
    navigator.clipboard.writeText(document.querySelector('link[rel=canonical]').href).then(()=> alert('Canonical URL kopiert'));
  });

  // --- Small SEO hint toggle ---
  document.getElementById('toggleHints').addEventListener('click', ()=>{
    const el = document.getElementById('seoHints');
    el.style.display = (el.style.display === 'none' ? 'block' : 'none');
  });

  // --- Easy share / save snippet ---
  document.getElementById('downloadHTML').addEventListener('click', ()=>{
    const blob = new Blob([document.documentElement.outerHTML], {type:'text/html'});
    const url = URL.createObjectURL(blob);
    const a = document.createElement('a'); a.href = url; a.download = 'index.html'; a.click(); URL.revokeObjectURL(url);
  });

});

/* End of script */
</script>
</head>
<body>
  <div class="container">
    <header>
      <div class="logo">C</div>
      <div>
        <h1>Universal Converter & Formel-Löser</h1>
        <p class="lead">Viele Einheiten & Formeln — kinderfreundlich, einfach und performant. Wähle oben eine Seite.</p>
      </div>
    </header>

    <nav class="card" aria-label="Hauptnavigation">
      <button data-page="converter" class="active">Converter</button>
      <button data-page="formulas">Formeln</button>
      <button data-page="geometry">Geometrie</button>
      <button data-page="physics">Physik</button>
      <button data-page="settings">Einstellungen</button>
    </nav>

    <!-- PAGES: Converter, Formulas, Geometry, Physics, Settings -->
    <main class="grid">
      <section id="page-converter" class="page">
        <div class="card">
          <h2>Einheiten-Converter</h2>
          <div class="small">Wähle Kategorie, Einheiten und Wert. Große Schaltflächen für Schnellkonvertierungen.</div>
          <div style="margin-top:12px" class="controls">
            <select id="convCategory" class="big"></select>
            <select id="convFrom" class="big" style="min-width:260px"></select>
            <input id="convValue" placeholder="Wert" class="big" style="width:120px" />
            <select id="convTo" class="big" style="min-width:260px"></select>
            <button id="swapUnits" title="Tauschen" class="big">⇄</button>
            <button id="convBtn" class="big" style="background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border:none">Konvertieren</button>
          </div>
          <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
            <div class="small">Ergebnis: <span id="convResult" class="result">—</span></div>
            <div>
              <button data-preset="Length|meter (m)|kilometer (km)|1000" class="chip">m → km</button>
              <button data-preset="Mass|gram (g)|kilogram (kg)|1000" class="chip">g → kg</button>
              <button data-preset="Data|byte|terabyte (TB)|1000000000" class="chip">B → TB</button>
            </div>
          </div>
          <hr style="margin:12px 0;border:none;border-top:1px solid rgba(11,18,32,0.04)" />
          <div class="small">Suche Einheiten oder Kategorie:</div>
          <input class="search" placeholder="z. B. 'km' oder 'Mass'">
          <div style="margin-top:10px" class="small-muted">Tipp: Nutze die Chip-Tasten für schnelle Beispiele.</div>
        </div>

        <div class="card" style="margin-top:14px">
          <h3>Kinderfreundliche Schnellrechner</h3>
          <div style="display:flex;gap:8px;flex-wrap:wrap">
            <button data-preset="Length|meter (m)|kilometer (km)|1000" class="big">1000 m → km</button>
            <button data-preset="Mass|gram (g)|kilogram (kg)|1000" class="big">1000 g → kg</button>
            <button data-preset="Volume|liter (L)|cubic meter (m³)|1" class="big">1 L → m³</button>
            <button data-preset="Data|megabyte (MB)|gigabyte (GB)|1024" class="big">MB → GB</button>
          </div>
        </div>
      </section>

      <aside class="aside">
        <div class="card">
          <h3>Kurzhilfe</h3>
          <div class="small-muted">Domain: Passe den &lt;link rel=\"canonical\"&gt; an. Datei als <code>index.html</code> in dein Hosting root. Für SEO: sitemap.xml & Google Search Console.</div>
          <div style="margin-top:10px;display:flex;gap:8px">
            <button id="copyCanonical" class="big">Canonical kopieren</button>
            <button id="downloadHTML" class="big">Download HTML</button>
          </div>
        </div>

        <div class="card" style="margin-top:12px">
          <h3>Design & Werbung</h3>
          <div class="small-muted">Kein Werbe-Code integriert. Platz für Banner in Einstellungen vorhanden.</div>
        </div>
      </aside>
    </main>

    <!-- Formulas page -->
    <section id="page-formulas" class="page card" style="display:none;margin-top:14px">
      <h2>Formel-Bibliothek</h2>
      <div class="small">Wähle Formel aus oder tippe eine kurze Anfrage (z. B. "m=10 a=2 berechne Kraft").</div>
      <div style="display:flex;gap:8px;margin-top:10px;flex-wrap:wrap">
        <input id="formulaSearch" class="search" placeholder="Formel suchen (z. B. Ohm, Fläche, Idealgas)" style="flex:1" />
        <button class="big" onclick="renderFormulas && renderFormulas(document.getElementById('formulaSearch').value)">Suchen</button>
      </div>

      <div style="margin-top:12px;display:flex;gap:10px;align-items:flex-start;flex-wrap:wrap">
        <div style="flex:1;min-width:360px">
          <div id="formulaList" class="formula-list"></div>
        </div>
        <div style="width:320px">
          <div class="card">
            <h4>Schnell-Eingabe (natürlich)</h4>
            <div class="small">Kurze Sätze oder "m=10 a=2 force"</div>
            <textarea id="nlInput" rows="4" style="width:100%;margin-top:8px"></textarea>
            <button id="nlBtn" class="big" style="margin-top:8px;background:linear-gradient(90deg,var(--accent),var(--accent-2));color:white;border:none">Analysieren & Finden</button>
          </div>
          <div class="card" style="margin-top:12px">
            <h4>Beliebte Formeln</h4>
            <div class="small">Ohm, Dichte, Kinetische Energie, Kreisfläche, Volumen Kugel, Idealgas...</div>
          </div>
        </div>
      </div>
    </section>

    <!-- Geometry page -->
    <section id="page-geometry" class="page card" style="display:none;margin-top:14px">
      <h2>Geometrie-Rechner</h2>
      <div class="small">Berechne Flächen & Volumen aus Seiten / Radien.</div>
      <div style="display:flex;gap:8px;align-items:center;margin-top:12px;flex-wrap:wrap">
        <select id="geoShape" class="big">
          <option value="rectangle">Rechteck (A,U)</option>
          <option value="triangle">Dreieck (A)</option>
          <option value="circle">Kreis (A,U)</option>
          <option value="cylinder">Zylinder (V, A)</option>
        </select>
        <input id="geo_a" placeholder="a (m)" class="big" style="width:120px" />
        <input id="geo_b" placeholder="b (m) / Höhe" class="big" style="width:120px" />
        <input id="geo_r" placeholder="r (m)" class="big" style="width:120px" />
        <button id="geoCalc" class="big" style="background:var(--accent);color:white;border:none">Berechnen</button>
      </div>
      <div style="margin-top:12px" class="small">Ergebnis: <span id="geoResult" class="result">—</span></div>
    </section>

    <!-- Physics page -->
    <section id="page-physics" class="page card" style="display:none;margin-top:14px">
      <h2>Physik-Schnellrechner</h2>
      <div class="small">Einige praktische Quick-Tools.</div>
      <div style="display:flex;gap:8px;flex-wrap:wrap;margin-top:12px">
        <div style="flex:1;min-width:280px">
          <div class="card">
            <h4>Kraft aus m und a</h4>
            <div style="display:flex;gap:8px;align-items:center">
              <input id="phys_m" placeholder="m (kg)" />
              <input id="phys_a" placeholder="a (m/s²)" />
              <button class="big" onclick="document.getElementById('physRes').textContent = (Number(document.getElementById('phys_m').value)*Number(document.getElementById('phys_a').value)) + ' N'">Berech.</button>
            </div>
            <div class="small">Ergebnis: <span id="physRes" class="result">—</span></div>
          </div>
        </div>

        <div style="flex:1;min-width:280px">
          <div class="card">
            <h4>Kinetische Energie</h4>
            <div style="display:flex;gap:8px;align-items:center">
              <input id="phys_m2" placeholder="m (kg)" />
              <input id="phys_v2" placeholder="v (m/s)" />
              <button class="big" onclick="document.getElementById('physRes2').textContent = (0.5*Number(document.getElementById('phys_m2').value)*Math.pow(Number(document.getElementById('phys_v2').value),2)) + ' J'">Berech.</button>
            </div>
            <div class="small">Ergebnis: <span id="physRes2" class="result">—</span></div>
          </div>
        </div>

      </div>
    </section>

    <!-- Settings page -->
    <section id="page-settings" class="page card" style="display:none;margin-top:14px">
      <h2>Einstellungen & SEO</h2>
      <div class="small">Passe hier Titel/Meta an, füge Werbeplätze (Platzhalter) oder Datenschutzhinweise ein.</div>
      <div style="margin-top:12px;display:flex;gap:8px;flex-wrap:wrap">
        <button id="toggleHints" class="big">SEO Tipps anzeigen/verbergen</button>
        <button id="downloadHTML" class="big">HTML herunterladen</button>
        <button id="copyCanonical" class="big">Canonical kopieren</button>
      </div>
      <div id="seoHints" style="margin-top:12px" class="card small-muted">
        <strong>SEO Quicklist:</strong>
        <ul>
          <li>index.html im Root des Hostings</li>
          <li>Meta title/description anpassen</li>
          <li>Sitemap.xml generieren und in Google Search Console einreichen</li>
          <li>Für bessere Platzierung: unique Content (Texte), schnelle Ladezeiten, mobile-first</li>
        </ul>
      </div>
      <div style="margin-top:12px" class="card">
        <h4>Werbeplatz (Platzhalter)</h4>
        <div class="small-muted">Hier ist Platz für Banner; Werbung ist aktuell nicht integriert.</div>
      </div>
    </section>

    <footer style="margin-top:18px;text-align:center" class="small-muted">
      © Universal Converter — Speichere als <code>index.html</code>. Passe Canonical & Open Graph an deine Domain für besseres Ranking.
    </footer>
  </div>
</body>
</html>
